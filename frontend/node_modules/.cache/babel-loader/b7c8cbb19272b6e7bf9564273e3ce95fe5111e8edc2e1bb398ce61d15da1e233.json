{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\odoo_Hackthone\\\\v1\\\\frontend\\\\src\\\\components\\\\manager\\\\PendingApprovals.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport approvalService from '../../services/approvalService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PendingApprovals = () => {\n  _s();\n  const [workflows, setWorkflows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedExpense, setSelectedExpense] = useState(null);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    fetchPendingApprovals();\n  }, []);\n  const fetchPendingApprovals = async () => {\n    try {\n      const data = await approvalService.getPendingApprovals();\n      setWorkflows(data);\n    } catch (error) {\n      console.error('Failed to fetch pending approvals');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleApproval = async (expenseId, action) => {\n    try {\n      await approvalService.processApproval(expenseId, action, comment);\n      setComment('');\n      setSelectedExpense(null);\n      fetchPendingApprovals();\n    } catch (error) {\n      console.error('Failed to process approval');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pending-approvals\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Pending Approvals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), workflows.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No pending approvals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: workflows.map(workflow => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"approval-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: workflow.expense.employee.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), \" \", workflow.expense.amountInCompanyCurrency, ' ', workflow.expense.currency]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), \" \", workflow.expense.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), \" \", workflow.expense.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), \" \", new Date(workflow.expense.date).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Add comment (optional)\",\n          value: selectedExpense === workflow.expense._id ? comment : '',\n          onChange: e => {\n            setSelectedExpense(workflow.expense._id);\n            setComment(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"approval-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleApproval(workflow.expense._id, 'Approved'),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleApproval(workflow.expense._id, 'Rejected'),\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)]\n      }, workflow._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(PendingApprovals, \"8IusuKvXx0NI0iQcCAV6jqZIhZY=\");\n_c = PendingApprovals;\nexport default PendingApprovals;\nvar _c;\n$RefreshReg$(_c, \"PendingApprovals\");","map":{"version":3,"names":["React","useState","useEffect","approvalService","jsxDEV","_jsxDEV","PendingApprovals","_s","workflows","setWorkflows","loading","setLoading","selectedExpense","setSelectedExpense","comment","setComment","fetchPendingApprovals","data","getPendingApprovals","error","console","handleApproval","expenseId","action","processApproval","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","workflow","expense","employee","name","amountInCompanyCurrency","currency","category","description","Date","date","toLocaleDateString","placeholder","value","_id","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/odoo_Hackthone/v1/frontend/src/components/manager/PendingApprovals.jsx"],"sourcesContent":[" import React, { useState, useEffect } from 'react';\r\nimport approvalService from '../../services/approvalService';\r\n\r\nconst PendingApprovals = () => {\r\n  const [workflows, setWorkflows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedExpense, setSelectedExpense] = useState(null);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPendingApprovals();\r\n  }, []);\r\n\r\n  const fetchPendingApprovals = async () => {\r\n    try {\r\n      const data = await approvalService.getPendingApprovals();\r\n      setWorkflows(data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch pending approvals');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApproval = async (expenseId, action) => {\r\n    try {\r\n      await approvalService.processApproval(expenseId, action, comment);\r\n      setComment('');\r\n      setSelectedExpense(null);\r\n      fetchPendingApprovals();\r\n    } catch (error) {\r\n      console.error('Failed to process approval');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"pending-approvals\">\r\n      <h2>Pending Approvals</h2>\r\n      {workflows.length === 0 ? (\r\n        <p>No pending approvals</p>\r\n      ) : (\r\n        <div>\r\n          {workflows.map((workflow) => (\r\n            <div key={workflow._id} className=\"approval-card\">\r\n              <h3>{workflow.expense.employee.name}</h3>\r\n              <p>\r\n                <strong>Amount:</strong> {workflow.expense.amountInCompanyCurrency}{' '}\r\n                {workflow.expense.currency}\r\n              </p>\r\n              <p>\r\n                <strong>Category:</strong> {workflow.expense.category}\r\n              </p>\r\n              <p>\r\n                <strong>Description:</strong> {workflow.expense.description}\r\n              </p>\r\n              <p>\r\n                <strong>Date:</strong> {new Date(workflow.expense.date).toLocaleDateString()}\r\n              </p>\r\n              <textarea\r\n                placeholder=\"Add comment (optional)\"\r\n                value={selectedExpense === workflow.expense._id ? comment : ''}\r\n                onChange={(e) => {\r\n                  setSelectedExpense(workflow.expense._id);\r\n                  setComment(e.target.value);\r\n                }}\r\n              />\r\n              <div className=\"approval-actions\">\r\n                <button onClick={() => handleApproval(workflow.expense._id, 'Approved')}>\r\n                  Approve\r\n                </button>\r\n                <button onClick={() => handleApproval(workflow.expense._id, 'Rejected')}>\r\n                  Reject\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PendingApprovals;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}